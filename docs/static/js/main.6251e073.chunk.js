(this["webpackJsonpmy-unsplash"]=this["webpackJsonpmy-unsplash"]||[]).push([[0],{59:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(16),s=n.n(c),r=n(5),o=n(39),l=n(4),i=n(10),u=n(12),d=n.n(u),b=n(19),j="https://unplash-react-node.herokuapp.com/api/upload/",p=function(e){var t="".concat(j).concat(e);return fetch(t,{method:"DELETE",headers:{"Content-type":"application/json"}})},O=function(e){var t="".concat(j,"search/").concat(e);return console.log(t),console.log({label:e}),fetch(t)},m="[ui] Open modal add",h="[ui] Close modal add ",f="[ui] Open modal delete",x="[ui] Close modal delete",v="[post] Add post",g="[post] load posts",y="[post] Delte post",N="[post] Active post",w="[post] Desactive post",k="[post] Search post",C=n(11),S=n.n(C),A=function(e){return{type:v,payload:e}},E=function(e){return{type:g,payload:e}},I=function(){return{type:y}},D=function(e){return{type:k,payload:e}},_=function(){return{type:h}},z=function(){return{type:x}},P=n(22),L=n(3),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(i.a)(t,2),c=n[0],s=n[1],r=function(){s(e)},o=function(e){var t=e.target;s(Object(L.a)(Object(L.a)({},c),{},Object(P.a)({},t.name,t.value)))};return[c,o,r]},M=(n(59),n(1)),T=function(){var e=Object(r.b)(),t=R({search:""}),n=Object(i.a)(t,3),a=n[0],c=n[1],s=n[2],o=a.search;return Object(M.jsxs)("nav",{className:"nav-container",children:[Object(M.jsxs)("div",{className:"logo",children:[Object(M.jsx)("span",{className:"material-icons md-36",children:"collections"}),Object(M.jsx)("span",{className:"title_page",children:"My Unsplash"}),Object(M.jsx)("span",{className:"subtitle",children:"devchallenges.io"})]}),Object(M.jsxs)("div",{className:"input_icon",children:[Object(M.jsx)("i",{className:"material-icons md-24",children:"search"}),Object(M.jsx)("input",{type:"text",placeholder:"Search by name",id:"in",name:"search",value:o,onChange:c,onKeyPress:function(t){var n;"Enter"===t.key&&(console.log(o),e((n=o,function(){var e=Object(b.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(n);case 3:return a=e.sent,e.next=6,a.json();case 6:(c=e.sent).ok?t(D(c.postImgs)):S.a.fire("Error",c.msg,"error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),s())}})]}),Object(M.jsx)("div",{className:"btn-position",children:Object(M.jsx)("button",{className:"btn",onClick:function(){e({type:m})},children:"Add a photo"})})]})},U=n(37),J=n.n(U),q=n(38),F=n.n(q),W=(n(65),function(e){var t=e.id,n=e.img,c=e.label,s=Object(r.b)(),o=Object(a.useState)(),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(a.useState)(!1),j=Object(i.a)(b,2),p=j[0],O=j[1];return Object(M.jsxs)("div",{className:"img-title animate__animated animate__fadeIn",onLoad:function(e){return d(e.target.height-1)},onMouseOver:function(e){O(!0),e.target.style.opacity=.5,e.target.style.zindex=9,e.target.style.transition="all 0.3s ease-out"},onMouseLeave:function(e){O(!1),e.target.style.opacity=1},style:{height:u},children:[Object(M.jsx)("img",{className:"item-img",src:n,alt:"../../assets/not_found.png",height:u,width:382}),p&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("p",{className:"title",children:c}),Object(M.jsx)("button",{className:"delete",onClick:function(){s({type:N,payload:{id:t,img:n,label:c}}),s({type:f})},children:"delete"})]})]})}),X=(n(66),function(){var e=Object(r.c)((function(e){return e.ui})).zIndex,t=Object(r.c)((function(e){return e.post})).posts,n=Object(a.useRef)(),c=Object(a.useCallback)((function(e){n.current=e,F()(n.current,(function(){new J.a(n.current,{itemSelector:".img-title",columnWidth:382,gutter:40,isFitWidth:!0})}))}),[t]);return Object(M.jsx)("div",{className:"container-gallery",ref:c,style:{zIndex:e},children:t.map((function(e){return Object(M.jsx)(W,{img:e.img,label:e.label,id:e.id},e.id)}))})}),B=n(14),K=n.n(B),V=(n(76),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}});K.a.setAppElement("#root");var G=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.ui})).modalOpenAdd,n=R({label:"",urlImg:""}),a=Object(i.a)(n,2),c=a[0],s=a[1],o=c.label,l=c.urlImg,u=function(t){t.preventDefault(),e(_())};return Object(M.jsx)(K.a,{isOpen:t,onRequestClose:u,style:V,closeTimeoutMS:200,overlayClassName:"modal-fondo",children:Object(M.jsxs)("div",{className:"modalcontainer",children:[Object(M.jsx)("h2",{className:"title-modal",children:"Add a new photo"}),Object(M.jsxs)("form",{onSubmit:function(t){t.preventDefault(),console.log(t),console.log(c),0!==o.length?0!==l.length?(e(function(e){var t=e.label,n=e.urlImg;return function(){var e=Object(b.a)(d.a.mark((function e(a){var c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r={label:t,urlImg:n},fetch(j,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 3:return c=e.sent,e.next=6,c.json();case 6:(s=e.sent).ok&&a(A(s.postImg)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}var r}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}(c)),e(_()),S.a.fire("Successful","Post success","success")):S.a.fire("Error","Url is empty","error"):S.a.fire("Error","Label is empty","error")},children:[Object(M.jsxs)("div",{className:"inputs",children:[Object(M.jsxs)("div",{className:"lbl-input",children:[Object(M.jsx)("label",{className:"lbl",children:"Label"}),Object(M.jsx)("input",{type:"text",placeholder:"Suspendisse elit massa",onChange:s,name:"label",value:o})]}),Object(M.jsxs)("div",{className:"lbl-input",children:[Object(M.jsx)("label",{className:"lbl",children:"Photo URL"}),Object(M.jsx)("input",{type:"text",placeholder:"https://images.unsplash.com/photo-1584395630827-860eee694d7b?ixlib=r...",onChange:s,name:"urlImg",value:l})]})]}),Object(M.jsxs)("div",{className:"btns-modal",children:[Object(M.jsx)("button",{onClick:u,className:"btn-m btn-can",children:"Close"}),Object(M.jsx)("button",{type:"submit",className:"btn-m btn-sub",children:"Submit"})]})]})]})})},H={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};K.a.setAppElement("#root");var Q=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.ui})).modalOpenDelete,n=R({password:""}),a=Object(i.a)(n,3),c=a[0],s=a[1],o=(a[2],c.password),l=function(t){t.preventDefault(),e(z()),e({type:w})};return Object(M.jsx)(K.a,{isOpen:t,onRequestClose:l,style:H,closeTimeoutMS:200,overlayClassName:"modal-fondo",children:Object(M.jsxs)("div",{className:"modalcontainer",children:[Object(M.jsx)("h2",{className:"title-modal",children:"Are you sure?"}),Object(M.jsxs)("form",{onSubmit:function(t){t.preventDefault(),"password"===o?(e(function(){var e=Object(b.a)(d.a.mark((function e(t,n){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().post.postActive.id,e.prev=1,e.next=4,p(a);case 4:return c=e.sent,e.next=7,c.json();case 7:s=e.sent,console.log(s),s.ok&&t(I()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()),S.a.fire("Successful","Post delete successful","success"),e(z())):S.a.fire("Error","Password invalid","error")},children:[Object(M.jsxs)("div",{className:"inputs",children:[Object(M.jsxs)("div",{className:"lbl-input",children:[Object(M.jsx)("label",{className:"lbl",children:"Password"}),Object(M.jsx)("input",{type:"password",placeholder:"***********",name:"password",value:o,onChange:s})]}),Object(M.jsx)("p",{children:"password is password :)"})]}),Object(M.jsxs)("div",{className:"btns-modal",children:[Object(M.jsx)("button",{onClick:l,className:"btn-m btn-can",children:"Close"}),Object(M.jsx)("button",{type:"submit",className:"btn-m btn-del",children:"Delete"})]})]})]})})},Y=(n(77),function(){var e=Object(r.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(j);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t(E(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)(T,{}),Object(M.jsx)(X,{}),Object(M.jsx)(G,{}),Object(M.jsx)(Q,{})]})}),Z=function(){return Object(M.jsx)(o.a,{children:Object(M.jsx)("div",{children:Object(M.jsxs)(l.d,{children:[Object(M.jsx)(l.b,{exact:!0,path:"/",component:Y}),Object(M.jsx)(l.a,{to:"/"})]})})})},$=n(15),ee=n(40),te=n(23),ne={posts:[],postActive:null},ae={modalOpenAdd:!1,modalOpenDelete:!1,zIndex:9},ce=Object($.b)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(L.a)(Object(L.a)({},e),{},{modalOpenAdd:!0,zIndex:-9});case h:return Object(L.a)(Object(L.a)({},e),{},{modalOpenAdd:!1,zIndex:9});case f:return Object(L.a)(Object(L.a)({},e),{},{modalOpenDelete:!0,zIndex:-9});case x:return Object(L.a)(Object(L.a)({},e),{},{modalOpenDelete:!1,zIndex:9});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(L.a)(Object(L.a)({},e),{},{posts:[t.payload].concat(Object(te.a)(e.posts))});case g:return Object(L.a)(Object(L.a)({},e),{},{posts:Object(te.a)(t.payload)});case y:return Object(L.a)(Object(L.a)({},e),{},{posts:e.posts.filter((function(t){return t.id!==e.postActive.id})),postActive:null});case N:return Object(L.a)(Object(L.a)({},e),{},{postActive:t.payload});case w:return Object(L.a)(Object(L.a)({},e),{},{postActive:null});case k:return Object(L.a)(Object(L.a)({},e),{},{posts:Object(te.a)(t.payload)});default:return e}}}),se="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$.c,re=Object($.d)(ce,se(Object($.a)(ee.a))),oe=(n(80),function(){return Object(M.jsx)(r.a,{store:re,children:Object(M.jsx)(Z,{})})});s.a.render(Object(M.jsx)(oe,{}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.6251e073.chunk.js.map